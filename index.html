<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QuickBites â€” Order Snacks</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: {} } }
  </script>
  <script type="module">
    import React, { useState } from 'https://esm.sh/react@18.2.0';
    import ReactDOM from 'https://esm.sh/react-dom@18.2.0';

    const menu = [
      { id: 1, name: 'Fries - Regular', price: 35, description: 'Crispy golden fries.' },
      { id: 2, name: 'Fries - Large', price: 45, description: 'Extra-large serving.' },
      { id: 3, name: 'Fruit Soda - Green Apple', price: 25, description: 'Refreshing green apple.' },
      { id: 4, name: 'Fruit Soda - Strawberry', price: 25, description: 'Sweet strawberry flavor.' },
      { id: 5, name: 'Fruit Soda - Blueberry', price: 25, description: 'Cool blueberry taste.' },
      { id: 6, name: 'Add-on: Nata de Coco', price: 10, description: 'Chewy topping for soda.' },
    ];

    function App() {
      const [cart, setCart] = useState([]);
      const [showCart, setShowCart] = useState(false);

      const addToCart = (item) => {
        setCart(prev => {
          const existing = prev.find(i => i.id === item.id);
          return existing
            ? prev.map(i => i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i)
            : [...prev, { ...item, quantity: 1 }];
        });
      };

      const updateQuantity = (id, delta) => {
        setCart(prev =>
          prev
            .map(item => item.id === id ? { ...item, quantity: item.quantity + delta } : item)
            .filter(item => item.quantity > 0)
        );
      };

      const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      const total = subtotal + 15; // Max delivery estimate
      const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);

      const openEmail = () => {
        const subject = encodeURIComponent('New Snack Order');
        const body = encodeURIComponent(
          `Hi! I'd like to place an order:\n\n` +
          cart.map(item => `${item.name} x${item.quantity} (â‚±${item.price * item.quantity})`).join('\n') +
          `\n\nSubtotal: â‚±${subtotal}\nDelivery Fee: â‚±10â€“15\nTotal (est.): â‚±${total}\n\n` +
          `---\nPlease fill in:\n- Full Name:\n- Complete Address (Barangay, Street, Landmark):\n- Phone Number:\n- Preferred Delivery Time:`
        );
        window.location.href = `mailto:popncrunch97@gmail.com?subject=${subject}&body=${body}`;
      };

      return React.createElement(
        'div',
        { className: 'min-h-screen bg-gray-50' },
        // Header
        React.createElement(
          'header',
          { className: 'bg-indigo-600 text-white shadow' },
          React.createElement(
            'div',
            { className: 'max-w-4xl mx-auto px-4 py-4 flex justify-between items-center' },
            React.createElement('h1', { className: 'text-2xl font-bold' }, 'QuickBites'),
            React.createElement(
              'button',
              {
                onClick: () => setShowCart(true),
                className: 'relative p-2 text-xl'
              },
              'ðŸ›’',
              itemCount > 0 &&
                React.createElement(
                  'span',
                  {
                    className: 'absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center'
                  },
                  itemCount
                )
            )
          )
        ),

        // Menu
        React.createElement(
          'main',
          { className: 'max-w-4xl mx-auto px-4 py-8' },
          React.createElement('h2', { className: 'text-2xl font-bold mb-4' }, 'Order Your Snacks'),
          React.createElement('p', { className: 'text-gray-600 mb-6' }, 'Delivery fee: â‚±10â€“15 (based on location)'),
          React.createElement(
            'div',
            { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' },
            menu.map(item =>
              React.createElement(
                'div',
                { key: item.id, className: 'bg-white rounded-lg shadow p-5 border-l-4 border-indigo-500' },
                React.createElement('h3', { className: 'font-bold text-lg' }, item.name),
                React.createElement('p', { className: 'text-gray-600 text-sm mt-1' }, item.description),
                React.createElement('p', { className: 'mt-2 font-semibold text-indigo-600' }, `â‚±${item.price}`),
                React.createElement(
                  'button',
                  {
                    onClick: () => addToCart(item),
                    className: 'mt-4 py-2 bg-indigo-600 text-white rounded w-full hover:bg-indigo-700'
                  },
                  'Add to Order'
                )
              )
            )
          )
        ),

        // Cart Modal
        showCart &&
          React.createElement(
            React.Fragment,
            null,
            React.createElement('div', {
              className: 'fixed inset-0 bg-black bg-opacity-40',
              onClick: () => setShowCart(false)
            }),
            React.createElement(
              'div',
              {
                className: 'fixed bottom-0 left-0 right-0 bg-white p-6 rounded-t-lg max-h-96 overflow-y-auto'
              },
              React.createElement(
                'div',
                { className: 'flex justify-between items-center mb-4' },
                React.createElement('h2', { className: 'text-xl font-bold' }, 'Your Order'),
                React.createElement(
                  'button',
                  { onClick: () => setShowCart(false), className: 'text-2xl' },
                  'Ã—'
                )
              ),
              cart.length === 0
                ? React.createElement('p', null, 'Your cart is empty.')
                : React.createElement(
                    'div',
                    null,
                    cart.map(item =>
                      React.createElement(
                        'div',
                        { key: item.id, className: 'flex justify-between py-2 border-b' },
                        React.createElement(
                          'div',
                          null,
                          React.createElement('h4', { className: 'font-medium' }, item.name),
                          React.createElement('p', { className: 'text-sm text-gray-600' }, `â‚±${item.price} Ã— ${item.quantity}`)
                        ),
                        React.createElement(
                          'div',
                          { className: 'flex items-center space-x-2' },
                          React.createElement(
                            'button',
                            { onClick: () => updateQuantity(item.id, -1), className: 'w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center' },
                            'âˆ’'
                          ),
                          React.createElement('span', { className: 'w-8 text-center' }, item.quantity),
                          React.createElement(
                            'button',
                            { onClick: () => updateQuantity(item.id, 1), className: 'w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center' },
                            '+'
                          )
                        )
                      )
                    ),
                    React.createElement(
                      'div',
                      { className: 'mt-4' },
                      React.createElement('div', { className: 'flex justify-between text-sm text-gray-600' },
                        React.createElement('span', null, 'Subtotal:'),
                        React.createElement('span', null, `â‚±${subtotal}`)
                      ),
                      React.createElement('div', { className: 'flex justify-between text-sm text-gray-600' },
                        React.createElement('span', null, 'Delivery:'),
                        React.createElement('span', null, 'â‚±10â€“15')
                      ),
                      React.createElement('div', { className: 'flex justify-between font-bold text-lg mt-2 pt-2 border-t' },
                        React.createElement('span', null, 'Total (est.):'),
                        React.createElement('span', null, `â‚±${total}`)
                      ),
                      React.createElement(
                        'button',
                        {
                          onClick: openEmail,
                          className: 'w-full mt-4 py-3 bg-green-600 text-white rounded font-medium hover:bg-green-700'
                        },
                        'Send Order via Email'
                      )
                    )
                  )
            )
          ),

        // Footer
        React.createElement(
          'footer',
          { className: 'text-center py-6 text-gray-600 text-sm' },
          `Â© ${new Date().getFullYear()} QuickBites â€” Fresh snacks, fast delivery.`
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>
</head>
<body class="min-h-screen bg-gray-50">
  <div id="root"></div>
</body>
</html>