<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>POP 'N CRUNCH</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: {} } }
  </script>
  <script type="module">
    import React, { useState } from 'https://esm.sh/react@18.2.0';
    import ReactDOM from 'https://esm.sh/react-dom@18.2.0';

    // Menu Items
    const menu = [
      {
        id: 1,
        name: 'Regular Fries',
        price: 35,
        description: 'Crispy golden fries.',
        img: 'regular.jpeg',
        category: 'fries'
      },
      {
        id: 2,
        name: 'Large Fries',
        price: 45,
        description: 'Extra-large serving.',
        img: 'large.jpeg',
        category: 'fries'
      },
      {
        id: 3,
        name: 'Fruit Soda - Strawberry',
        price: 25,
        description: 'Sweet strawberry flavor.',
        img: 'strawberry.jpeg',
        category: 'soda'
      },
      {
        id: 4,
        name: 'Fruit Soda - Blueberry',
        price: 25,
        description: 'Tangy blueberry taste.',
        img: 'blueberry.jpeg',
        category: 'soda'
      },
      {
        id: 5,
        name: 'Fruit Soda - Green Apple',
        price: 25,
        description: 'Refreshing green apple.',
        img: 'greenapple.jpeg',
        category: 'soda'
      },
      {
        id: 6,
        name: 'Add-on: Nata de Coco',
        price: 10,
        description: 'Chewy topping for soda.',
        img: 'natadecoco.jpeg',
        category: 'addon'
      },
    ];

    function App() {
      const [cart, setCart] = useState([]);
      const [showCart, setShowCart] = useState(false);

      const addToCart = (item) => {
        setCart(prev => {
          const existing = prev.find(i => i.id === item.id);
          return existing
            ? prev.map(i => i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i)
            : [...prev, { ...item, quantity: 1 }];
        });
      };

      const updateQuantity = (id, delta) => {
        setCart(prev =>
          prev
            .map(item => item.id === id ? { ...item, quantity: item.quantity + delta } : item)
            .filter(item => item.quantity > 0)
        );
      };

      const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      const total = subtotal + 15; // Max delivery estimate
      const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);

      const openEmail = () => {
        const subject = encodeURIComponent('New Snack Order');
        const body = encodeURIComponent(
          `Hi! I'd like to place an order:\n\n` +
          cart.map(item => `${item.name} x${item.quantity} (â‚±${item.price * item.quantity})`).join('\n') +
          `\n\nSubtotal: â‚±${subtotal}\nDelivery Fee: â‚±10â€“15\nTotal (est.): â‚±${total}\n\n` +
          `---\nPlease fill in:\n- Full Name:\n- Complete Address (Barangay, Street, Landmark):\n- Phone Number:\n- Preferred Delivery Time:`
        );
        window.location.href = `mailto:popncrunch97@gmail.com?subject=${subject}&body=${body}`;
      };

      return React.createElement(
        'div',
        { className: 'min-h-screen bg-white' },
        // Header
        React.createElement(
          'header',
          { className: 'bg-red-600 text-white shadow' },
          React.createElement(
            'div',
            { className: 'max-w-4xl mx-auto px-4 py-4 flex justify-between items-center' },
            React.createElement('h1', { className: 'text-2xl font-bold' }, 'POP \'N CRUNCH'),
            React.createElement(
              'button',
              {
                onClick: () => setShowCart(true),
                className: 'relative p-2 text-xl'
              },
              'ðŸ›’',
              itemCount > 0 &&
                React.createElement(
                  'span',
                  {
                    className: 'absolute -top-1 -right-1 bg-yellow-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center'
                  },
                  itemCount
                )
            )
          )
        ),

        // Main Menu
        React.createElement(
          'main',
          { className: 'max-w-4xl mx-auto px-4 py-8' },
          // Fries Section
          React.createElement(
            'section',
            { className: 'mb-8' },
            React.createElement('h2', { className: 'text-xl font-bold mb-4 text-red-600 border-b pb-2' }, 'FRIES'),
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
              menu.filter(item => item.category === 'fries').map(item =>
                React.createElement(
                  'div',
                  { key: item.id, className: 'flex items-center justify-between bg-gray-50 p-4 rounded-lg shadow' },
                  React.createElement(
                    'div',
                    { className: 'flex items-center space-x-3' },
                    React.createElement(
                      'img',
                      {
                        src: item.img,
                        alt: item.name,
                        className: 'w-10 h-10 object-contain'
                      }
                    ),
                    React.createElement('span', { className: 'font-medium' }, item.name)
                  ),
                  React.createElement(
                    'div',
                    { className: 'flex items-center space-x-2' },
                    React.createElement('span', { className: 'font-bold text-indigo-600' }, `â‚±${item.price}`),
                    React.createElement(
                      'button',
                      {
                        onClick: () => addToCart(item),
                        className: 'ml-2 py-1 px-3 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700'
                      },
                      '+'
                    )
                  )
                )
              )
            )
          ),

          // Fruit Soda Section
          React.createElement(
            'section',
            { className: 'mb-8' },
            React.createElement('h2', { className: 'text-xl font-bold mb-4 text-blue-600 border-b pb-2' }, 'FRUIT SODA'),
            React.createElement(
              'div',
              { className: 'grid grid-cols-1 md:grid-cols-3 gap-4' },
              menu.filter(item => item.category === 'soda').map(item =>
                React.createElement(
                  'div',
                  { key: item.id, className: 'flex flex-col items-center bg-gray-50 p-4 rounded-lg shadow text-center' },
                  React.createElement(
                    'img',
                    {
                      src: item.img,
                      alt: item.name,
                      className: 'w-16 h-16 object-contain mb-2'
                    }
                  ),
                  React.createElement('span', { className: 'font-medium text-sm' }, item.name.split(' - ')[1]),
                  React.createElement('span', { className: 'font-bold text-indigo-600 mt-2' }, `â‚±${item.price}`),
                  React.createElement(
                    'button',
                    {
                      onClick: () => addToCart(item),
                      className: 'mt-2 py-1 px-3 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700'
                    },
                    '+'
                  )
                )
              )
            )
          ),

          // Add-ons Section
          React.createElement(
            'section',
            { className: 'mb-8' },
            React.createElement('h2', { className: 'text-xl font-bold mb-4 text-green-600 border-b pb-2' }, 'ADD-ONS'),
            React.createElement(
              'div',
              { className: 'flex items-center justify-between bg-gray-50 p-4 rounded-lg shadow' },
              React.createElement(
                'div',
                { className: 'flex items-center space-x-3' },
                React.createElement(
                  'img',
                  {
                    src: menu.find(item => item.id === 6)?.img,
                    alt: 'Nata de Coco',
                    className: 'w-10 h-10 object-contain'
                  }
                ),
                React.createElement('span', { className: 'font-medium' }, 'Nata de Coco')
              ),
              React.createElement(
                'div',
                { className: 'flex items-center space-x-2' },
                React.createElement('span', { className: 'font-bold text-indigo-600' }, `â‚±10`),
                React.createElement(
                  'button',
                  {
                    onClick: () => addToCart(menu.find(item => item.id === 6)),
                    className: 'ml-2 py-1 px-3 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700'
                  },
                  '+'
                )
              )
            )
          ),

          // Delivery Note
          React.createElement(
            'p',
            { className: 'text-gray-600 text-center mt-6' },
            'Delivery fee: â‚±10â€“15 (based on location)'
          )
        ),

        // Cart Modal
        showCart &&
          React.createElement(
            React.Fragment,
            null,
            React.createElement('div', {
              className: 'fixed inset-0 bg-black bg-opacity-40',
              onClick: () => setShowCart(false)
            }),
            React.createElement(
              'div',
              {
                className: 'fixed bottom-0 left-0 right-0 bg-white p-6 rounded-t-lg max-h-96 overflow-y-auto'
              },
              React.createElement(
                'div',
                { className: 'flex justify-between items-center mb-4' },
                React.createElement('h2', { className: 'text-xl font-bold' }, 'Your Order'),
                React.createElement(
                  'button',
                  { onClick: () => setShowCart(false), className: 'text-2xl' },
                  'Ã—'
                )
              ),
              cart.length === 0
                ? React.createElement('p', null, 'Your cart is empty.')
                : React.createElement(
                    'div',
                    null,
                    cart.map(item =>
                      React.createElement(
                        'div',
                        { key: item.id, className: 'flex justify-between py-2 border-b' },
                        React.createElement(
                          'div',
                          null,
                          React.createElement('h4', { className: 'font-medium' }, item.name),
                          React.createElement('p', { className: 'text-sm text-gray-600' }, `â‚±${item.price} Ã— ${item.quantity}`)
                        ),
                        React.createElement(
                          'div',
                          { className: 'flex items-center space-x-2' },
                          React.createElement(
                            'button',
                            { onClick: () => updateQuantity(item.id, -1), className: 'w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center' },
                            'âˆ’'
                          ),
                          React.createElement('span', { className: 'w-8 text-center' }, item.quantity),
                          React.createElement(
                            'button',
                            { onClick: () => updateQuantity(item.id, 1), className: 'w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center' },
                            '+'
                          )
                        )
                      )
                    ),
                    React.createElement(
                      'div',
                      { className: 'mt-4' },
                      React.createElement('div', { className: 'flex justify-between text-sm text-gray-600' },
                        React.createElement('span', null, 'Subtotal:'),
                        React.createElement('span', null, `â‚±${subtotal}`)
                      ),
                      React.createElement('div', { className: 'flex justify-between text-sm text-gray-600' },
                        React.createElement('span', null, 'Delivery:'),
                        React.createElement('span', null, 'â‚±10â€“15')
                      ),
                      React.createElement('div', { className: 'flex justify-between font-bold text-lg mt-2 pt-2 border-t' },
                        React.createElement('span', null, 'Total (est.):'),
                        React.createElement('span', null, `â‚±${total}`)
                      ),
                      React.createElement(
                        'button',
                        {
                          onClick: openEmail,
                          className: 'w-full mt-4 py-3 bg-green-600 text-white rounded font-medium hover:bg-green-700'
                        },
                        'Send Order via Email'
                      )
                    )
                  )
            )
          ),

        // Footer
        React.createElement(
          'footer',
          { className: 'text-center py-6 text-gray-600 text-sm' },
          `Â© ${new Date().getFullYear()} POP 'N CRUNCH â€” Fresh snacks, fast delivery.`
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>
</head>
<body class="min-h-screen bg-white">
  <div id="root"></div>
</body>
</html>